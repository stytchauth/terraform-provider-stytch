---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "stytch_environment Resource - stytch"
subcategory: ""
description: |-
  Manages a test environment within a Stytch project. This resource only supports TEST type environments.
---

# stytch_environment (Resource)

Manages a test environment within a Stytch project. This resource only supports TEST type environments.

## Example Usage

```terraform
# Create a basic test environment with default slug
resource "stytch_environment" "test" {
  project_slug = stytch_project.example.project_slug
  name         = "Test"
}

# Create a test environment with a custom slug
resource "stytch_environment" "staging" {
  project_slug     = stytch_project.example.project_slug
  environment_slug = "staging"
  name             = "Staging"
}

# Create a test environment with user impersonation enabled
resource "stytch_environment" "test_with_impersonation" {
  project_slug               = stytch_project.example.project_slug
  environment_slug           = "test"
  name                       = "Test"
  user_impersonation_enabled = true
}

# Create a B2B test environment with cross-org passwords enabled
resource "stytch_environment" "b2b_test" {
  project_slug                = stytch_project.b2b_example.project_slug
  environment_slug            = "test"
  name                        = "Test"
  cross_org_passwords_enabled = true
}

# Create a test environment with user lock configuration
resource "stytch_environment" "test_with_lock" {
  project_slug                 = stytch_project.example.project_slug
  environment_slug             = "test"
  name                         = "Test"
  user_lock_self_serve_enabled = true
  user_lock_threshold          = 15
  user_lock_ttl                = 1800 # 30 minutes in seconds
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The environment's name.
- `project_slug` (String) The slug of the project this environment belongs to.

### Optional

- `cross_org_passwords_enabled` (Boolean) Whether cross-org passwords are enabled for the environment. Irrelevant for Consumer projects.
- `environment_slug` (String) The immutable unique identifier for the environment. One will be generated by Stytch if not provided.
- `idp_authorization_url` (String) The OpenID Configuration endpoint for Connected Apps for the environment.
- `idp_dynamic_client_registration_access_token_template_content` (String) The access token template to use for clients created through Dynamic Client Registration (DCR).
- `idp_dynamic_client_registration_enabled` (Boolean) Whether the project has opted in to Dynamic Client Registration (DCR) for Connected Apps.
- `user_impersonation_enabled` (Boolean) Whether user impersonation is enabled for the environment.
- `user_lock_self_serve_enabled` (Boolean) Whether users who get locked out should automatically get an unlock email magic link.
- `user_lock_threshold` (Number) The number of failed authenticate attempts that will cause a user to be locked. Defaults to 10.
- `user_lock_ttl` (Number) The time in seconds that a user remains locked once the lock is set. Defaults to 1 hour (3600 seconds).
- `zero_downtime_session_migration_url` (String) The OIDC-compliant UserInfo endpoint for session migration.

### Read-Only

- `created_at` (String) The ISO-8601 timestamp when the environment was created.
- `id` (String) A computed ID field used for Terraform resource management (format: project_slug.environment_slug).
- `last_updated` (String) Timestamp of the last Terraform update.
- `oauth_callback_id` (String) The callback ID used in OAuth requests for the environment.

## Import

Import is supported using the following syntax:

```shell
# A Stytch environment can be imported by specifying the project slug and environment slug
# Format: project_slug.environment_slug
terraform import stytch_environment.example my-project-slug.test
```
